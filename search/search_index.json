{"config":{"lang":["hu"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Webport\u00e1lok fejleszt\u00e9se","text":""},{"location":"#webportalok-fejlesztese","title":"Webport\u00e1lok fejleszt\u00e9se","text":"<p>Jegyzetek, gyakorlati anyagok \u00e9s h\u00e1zi feladatok a Webport\u00e1lok fejleszt\u00e9se c. t\u00e1rgyhoz.</p> <p>Jav\u00edt\u00e1s az anyagban</p> <p>A t\u00e1rgy hallgat\u00f3inak a jegyzet anyag\u00e1ban t\u00f6rt\u00e9n\u0151 jav\u00edt\u00e1s\u00e9rt, kieg\u00e9sz\u00edt\u00e9s\u00e9rt plusz pontot adunk! Ha hib\u00e1t tal\u00e1lsz a jegyzet b\u00e1rmely r\u00e9sz\u00e9ben, vagy kieg\u00e9sz\u00edten\u00e9d azt, nyiss egy pull request-et! A repository linkj\u00e9t a jobb fels\u0151 sarokban tal\u00e1lod.</p> <p>Felhaszn\u00e1l\u00e1si felt\u00e9telek</p> <p>Az itt tal\u00e1lhat\u00f3 oktat\u00e1si seg\u00e9danyagok a BMEVIAUAC01 t\u00e1rgy hallgat\u00f3inak k\u00e9sz\u00fcltek. Az anyagok oly m\u00f3d\u00fa felhaszn\u00e1l\u00e1sa, amely a t\u00e1rgy oktat\u00e1s\u00e1hoz nem szorosan kapcsol\u00f3dik, csak a szerz\u0151(k) \u00e9s a forr\u00e1s megjel\u00f6l\u00e9s\u00e9vel t\u00f6rt\u00e9nhet.</p> <p>Az anyagok a t\u00e1rgy keret\u00e9ben oktatott kontextusban \u00e9rtelmezhet\u0151ek. Az anyagok\u00e9rt egy\u00e9b felhaszn\u00e1l\u00e1s eset\u00e9n a szerz\u0151(k) felel\u0151ss\u00e9get nem v\u00e1llalnak.</p>"},{"location":"homework/01-hw/","title":"First example homework","text":""},{"location":"homework/01-hw/#first-example-homework","title":"First example homework","text":"<p>This is the first homework example.</p>"},{"location":"information/contributing/","title":"Hozz\u00e1j\u00e1rul\u00e1s az anyaghoz","text":""},{"location":"information/contributing/#hozzajarulas-az-anyaghoz","title":"Hozz\u00e1j\u00e1rul\u00e1s az anyaghoz","text":"<p>Az anyag terjedelm\u00e9b\u0151l adand\u00f3an apr\u00f3bb hib\u00e1k esetenk\u00e9nt hi\u00e1nyoss\u00e1gok jelentkezhetnek a laborokban. Ha egy ilyennel tal\u00e1lkozol \u00e9s \u00fagy d\u00f6ntesz szeretn\u00e9l seg\u00edteni hallgat\u00f3t\u00e1rsaidnak, azt a k\u00f6vetkez\u0151kben le\u00edrtak alapj\u00e1n tudod megtenni.</p> <p>Plusz pont jegyzet jav\u00edt\u00e1s\u00e9rt</p> <p>M\u00e1s tant\u00e1rgyak mint\u00e1j\u00e1ra itt is szeretn\u00e9nk plusz pontot adni a jegyzet open-source hozz\u00e1j\u00e1rul\u00e1sai\u00e9rt. Akik a t\u00e1rgyat jelenleg hallgatj\u00e1k, pontokat kaphatnak hozz\u00e1j\u00e1rul\u00e1saik\u00e9rrt.</p> <p>A f\u00e9l\u00e9v sor\u00e1n max 3 db plusz pontot lehet szerezni fejenk\u00e9nt olyan jav\u00edt\u00e1sok\u00e9rt, amik a trivi\u00e1lis 1-2 bet\u0171 elg\u00e9pel\u00e9sen t\u00fal \u00e9rdemben jav\u00edtanak a githubon tal\u00e1lhat\u00f3 labor jegyzetek min\u0151s\u00e9g\u00e9n. Pl.: jelent\u0151s mennyis\u00e9g\u0171 elg\u00e9pel\u00e9s jav\u00edt\u00e1sa, egy\u00e9rtelm\u0171s\u00edt\u00e9sek, illusztr\u00e1ci\u00f3k kieg\u00e9sz\u00edt\u00e9sek k\u00e9sz\u00edt\u00e9se vagy ak\u00e1r egy teljes kieg\u00e9sz\u00edt\u0151 jegyzet \u00edr\u00e1sa  (term\u00e9szetesen nem azonos pont\u00e9rt\u00e9kkel).</p> <p>Persze a pont n\u00e9lk\u00fcl az 1-1 bet\u0171s elg\u00e9pel\u00e9seket is sz\u00edvesen fogadjuk, ami bemeleg\u00edt\u00e9snek is t\u00f6k\u00e9letes.</p>"},{"location":"information/contributing/#hibak-jelzese","title":"Hib\u00e1k jelz\u00e9se","text":"<p>Amennyiben hib\u00e1t tal\u00e1lsz az anyagban, vagy szeretn\u00e9d b\u0151v\u00edteni, de nem \u00e1ll m\u00f3dodban jav\u00edtani, nyithatsz egy issue-t amiben le\u00edrod a hib\u00e1t.</p> <ol> <li>N\u00e9zd meg, hogy valaki nem jelezte-e, amit szeretn\u00e9l.     Gyakran m\u00e1r l\u00e9tez\u0151 probl\u00e9m\u00e1kat tal\u00e1lnak, amire m\u00e1r van pull request,     \u00edgy miel\u0151tt b\u00e1rmit tenn\u00e9l n\u00e9zd meg valaki nem el\u0151z\u00f6tt-e meg</li> <li>Az issues tabon a new issue gombbal hozz l\u00e9tre egy \u00faj issue-t.     </li> <li>L\u00e1sd el a megfelel\u0151 c\u00edmk\u00e9kkel<ol> <li>A hiba t\u00edpusa (<code>clarification</code>, <code>typo</code>, <code>illustration</code> vagy <code>notes</code>)</li> </ol> </li> <li>\u00cdrd le, hogy mit k\u00e9ne tartalmaznia a jav\u00edt\u00e1snak</li> </ol> <p>Tip</p> <p>Az c\u00edme legyen r\u00f6vid \u00e9s l\u00e9nyegret\u00f6r\u0151, pl.: <code>Megfogalmaz\u00e1s pontos\u00edt\u00e1sa a 4. laborban</code> vagy <code>A 6. laborban a le\u00edrt k\u00f3d hib\u00e1san m\u0171k\u00f6dik Android 12-n</code></p> <p>A issue descriptionj\u00e9ben pedig fejtsd ki, hol tal\u00e1lhat\u00f3 a hi\u00e1nyoss\u00e1g, illetve ha van r\u00e1 \u00f6tleted, hogy lehetne orvosolni ezt. Ha ezeken t\u00fal m\u00e9g screenshotot is tudsz mell\u00e9kelni, az nagyban megseg\u00edti a probl\u00e9ma mihamarabbi jav\u00edt\u00e1s\u00e1t.</p> <p>Warning</p> <p>A github issues nem a laborfeladatok megold\u00e1s\u00e1val kapcsolatos probl\u00e9m\u00e1k helye, \u00edgy a \"Nem tudom megoldani hogy az \u00e9rtes\u00edt\u00e9s meg\u00e9rkezzen\" jelleg\u0171 probl\u00e9m\u00e1kat ne itt jelezz\u00e9tek, erre vannak a laboralkalmak.</p>"},{"location":"information/contributing/#valtoztatasok-javaslasa","title":"V\u00e1ltoztat\u00e1sok javasl\u00e1sa","text":"<p>Amennyiben a hozz\u00e1j\u00e1rul\u00e1sod meg tudod val\u00f3s\u00edtani ind\u00edts pull requestet</p> <ol> <li> <p>Forkold a repository-t a Githubon jobb fels\u0151 sarokban tal\u00e1lhat\u00f3 gombbal     </p> </li> <li> <p>V\u00e9gezd el a v\u00e1ltoztat\u00e1sokat.</p> <ol> <li> <p>Hozz l\u00e9tre egy branchet a saj\u00e1t forkodon, amin a v\u00e1ltoztat\u00e1sokat el fogod v\u00e9gezni.</p> </li> <li> <p>Ezen a branchen k\u00e9sz\u00edtsd el a jav\u00edt\u00e1sokat</p> </li> <li> <p>Ellen\u0151rizd, hogy ne ker\u00fclj\u00f6n bele a commitba olyan file, amit az editor gener\u00e1lt (pl.: <code>.idea</code> mappa) illetve olyan file aminek nem k\u00e9ne kiker\u00fclnie, pl.: Github Private Access Token</p> </li> <li> <p>Ha k\u00e9sz vagy ind\u00edts egy pull requestet a jegyzeteket tartalmaz\u00f3 rep\u00f3 f\u0151 \u00e1g\u00e1ra.</p> </li> <li> <p>A le\u00edr\u00e1sban r\u00e9szletezd v\u00e1ltoztat\u00e1sok ok\u00e1t.     Ne felejtsd el bele\u00edrni a NEPTUN k\u00f3dod a le\u00edr\u00e1sba, mert \u00edgy fogjuk tudni megadni a pontokat.</p> </li> </ol> </li> <li> <p>Valaki, akinek hozz\u00e1f\u00e9r\u00e9se van a repositoryhoz, ellen\u0151rzi a v\u00e1ltoztat\u00e1sok sz\u00fcks\u00e9gess\u00e9g\u00e9t, \u00e9s elb\u00edr\u00e1lja, hogy val\u00f3ban beker\u00fclhet az anyagba.</p> </li> <li>A v\u00e1ltoztat\u00e1sokra review-t ind\u00edtunk \u00e9s ha kell m\u00f3dos\u00edt\u00e1sokat fogunk k\u00e9rni.</li> <li>Ha minden k\u00e9rt v\u00e1ltoztat\u00e1s megt\u00f6rt\u00e9nt, a hozz\u00e1j\u00e1rul\u00e1sod beleker\u00fcl az anyagba.</li> </ol>"},{"location":"information/contributing/#code-style","title":"Code style","text":"<ul> <li>Markdown: Mivel az alap spec nem mindig a legtiszt\u00e1bban \u00e9rthet\u0151, a markdownlint szab\u00e1lyai alapj\u00e1n, az n\u00e9h\u00e1ny kiv\u00e9tel\u00e9vel. Ezeket a <code>.markdownlint.yaml</code>-ben tal\u00e1lod, ha VSCode-ot haszn\u00e1lsz automatikusan alkalmazza \u0151ket az editor \u00e9s jelzi ha nem megfelel\u0151 amit \u00edrsz.</li> </ul> <p>Ezek a st\u00edlusok a t\u00e1rgyban aj\u00e1nlott editorokban k\u00f6nnyen be\u00e1ll\u00edthat\u00f3ak.</p>"},{"location":"information/contributing/#vscode","title":"VSCode","text":"<p>Aj\u00e1nlott extension\u00f6k:</p> <ul> <li><code>yzhang.markdown-all-in-one</code>: MD szinkroniz\u00e1lt live preview</li> <li><code>DavidAnson.vscode-markdownlint</code>: MD form\u00e1z\u00e1s, szab\u00e1lyok stb.</li> <li>Prettier: HTML+CSS form\u00e1z\u00f3</li> <li>Error Lens: Kiemeli a hib\u00e1kat hogy gyorsabben megtal\u00e1ljuk \u0151ket</li> <li>Paste Image: egyszer\u0171s\u00edti a k\u00e9pek beilleszt\u00e9s\u00e9t markdownba</li> </ul> <p>Az editor be\u00e1ll\u00edt\u00e1s\u00e1hoz nyisd meg a repo-t a gy\u00f6ker\u00e9ben VSCode-al. A VSCode fel fogja aj\u00e1nlani a k\u00e9t markdown extension-t.</p> <p></p> <p>Ha ez megt\u00f6rt\u00e9nt, nyiss meg egy markdown dokumentumot, \u00e9s haszn\u00e1ld a Ctrl+Shift+P shortcutot, a command palette megnyit\u00e1s\u00e1hoz.</p> <p>Tip</p> <p>A command palette a VSCode parancsaihoz ny\u00fajt hozz\u00e1f\u00e9r\u00e9st, autocompleteeli a parancsokat \u00e9s egy minim\u00e1lis GUI-t is biztos\u00edt.</p> <p>A command palette-be keress\u00fck meg a <code>Format Document With...</code> men\u00fcpontot \u00e9s v\u00e1lasszuk ki. Ekkor egy almen\u00fcbe dob az editor \u00e9s kiv\u00e1laszthatjuk hogy melyik form\u00e1z\u00f3val form\u00e1zzuk a MD dokumentumokat. Legalul lesz egy <code>Configure Default Formatter</code>, v\u00e1lasszuk ezt. Ezut\u00e1n v\u00e1lasszuk a <code>markdownlint</code> extensiont, \u00e9s k\u00e9szen vagyunk.</p> <p>Megfelel\u0151 formatter kiv\u00e1laszt\u00e1sa</p> <p>Ne v\u00e1laszd ki a prettiert formatterk\u00e9nt, mert elt\u00f6ri a sz\u00f6vegbubor\u00e9kokat.</p> <p>Ezen fel\u00fcl \u00e9rdemes lehet bekapcsolni a ment\u00e9s el\u0151tti form\u00e1z\u00e1st.</p> <p>A Ctrl+, shortcuttal megnyitjuk a be\u00e1ll\u00edt\u00e1sokat, \u00e9s r\u00e1keres\u00fcnk arra, hogy format on save. Itt kipip\u00e1ljuk a checkboxot \u00e9s k\u00e9szen vagyunk.</p> <p>Ha ehhez nem lenne t\u00fcrelmed, itt a json amit a <code>settings.json</code>-ba illesztve be\u00e1ll\u00edt\u00f3dik minden.</p> <pre><code>{\n  \"[markdown]\": {\n    \"editor.defaultFormatter\": \"DavidAnson.vscode-markdownlint\",\n    \"editor.formatOnSave\": true\n  }\n}\n</code></pre>"},{"location":"lecture-notes/01-topic/","title":"First lecure notes topic","text":""},{"location":"lecture-notes/01-topic/#first-lecure-notes-topic","title":"First lecure notes topic","text":"<p>This is the first topic of the lecture notes.</p>"},{"location":"seminar/00%20-%20Adatb%C3%A1zis%20alapok/00%20-%20Adatbazisok%20ismetles/","title":"MS SQL ADATB\u00c1ZIS \u00c9S EF ALAPOK","text":""},{"location":"seminar/00%20-%20Adatb%C3%A1zis%20alapok/00%20-%20Adatbazisok%20ismetles/#ms-sql-adatbazis-es-ef-alapok","title":"MS SQL ADATB\u00c1ZIS \u00c9S EF ALAPOK","text":""},{"location":"seminar/00%20-%20Adatb%C3%A1zis%20alapok/00%20-%20Adatbazisok%20ismetles/#bevezetes","title":"Bevezet\u00e9s","text":"<p>A labor c\u00e9lja, az MS SQL Server ismeretek \u00e1tism\u00e9tl\u00e9se, illetve azon hallgat\u00f3knak akik m\u00e9g nem foglalkoztak adatb\u00e1zisokkal a gyakorlatban megmutassuk, hogyan lehet t\u00e1bl\u00e1kat l\u00e9trehozni, lek\u00e9rdez\u00e9seket \u00e9s t\u00e1rolt elj\u00e1r\u00e1sokat k\u00e9sz\u00edteni. A labor sor\u00e1n a hallgat\u00f3k egy-egy p\u00e9ld\u00e1n kereszt\u00fcl ismerkednek meg a T\u00e1blal\u00e9trehoz\u00e1st, adatb\u00e1zis lek\u00e9rdez\u00e9sek \u00e9s m\u00f3dos\u00edt\u00e1sok k\u00e9sz\u00edt\u00e9s\u00e9t, valamint a t\u00e1rolt elj\u00e1r\u00e1sok \u00edr\u00e1s\u00e1t.</p>"},{"location":"seminar/00%20-%20Adatb%C3%A1zis%20alapok/00%20-%20Adatbazisok%20ismetles/#adatbazis-letrehozasa","title":"Adatb\u00e1zis l\u00e9trehoz\u00e1sa","text":"<ol> <li> <p>Ind\u00edtsuk el a Microsoft SQL Server Management Studiot-t, majd csatlakozzunk a lok\u00e1lis adatb\u00e1zis szerverhez, amit a <code>(localdb)\\MSSQLLocalDB</code> n\u00e9vvel \u00e9r\u00fcnk el.</p> </li> <li> <p>A lok\u00e1lis adatb\u00e1zis szerver nem teljes SQL szerver \u00e9s tipikusan fejleszt\u00e9shez \u00e9rdemes haszn\u00e1lni. A Visual Studio alap\u00e9rtelmez\u00e9s szerint feltelep\u00edti.</p> </li> <li> <p>Ha a \u201enagy\u201d SQL szerverhez szeretn\u00e9nk kapcsol\u00f3dni, ami a lok\u00e1lis g\u00e9pen fut, akkor a . (pontot) adjuk meg mint szervern\u00e9v. Ezt k\u00fcl\u00f6n telep\u00edteni kell.</p> </li> <li> <p>Az Object explorerben jobb klikk a Databases-re \u00e9s v\u00e1lasszuk a New Database opci\u00f3t, majd adjuk meg az adatb\u00e1zis nev\u00e9t, ami legyen TesztDB. Bal oldalon m\u00e9g az Options f\u00fcl lehet \u00e9rdekes, ahol sz\u00e1mos adatb\u00e1zis be\u00e1ll\u00edt\u00e1st meg lehet adni, de ezeket most nem m\u00f3dos\u00edtjuk, j\u00f3 az alap\u00e9rtelmezett be\u00e1ll\u00edt\u00e1s.</p> </li> <li> <p>Az Ok-ra kattintva l\u00e9trej\u00f6n az adatb\u00e1zis \u00e9s az Object Explorerben a Databases alatt meg is jelenik.</p> </li> </ol>"},{"location":"seminar/01%20-%20Tervezes/01%20-%20Tervezes/","title":"Tervez\u00e9s","text":""},{"location":"seminar/01%20-%20Tervezes/01%20-%20Tervezes/#tervezes","title":"Tervez\u00e9s","text":""},{"location":"seminar/01%20-%20Tervezes/01%20-%20Tervezes/#specifikacio","title":"Specifik\u00e1ci\u00f3","text":"<ul> <li> <p>K\u00f6nyvek b\u00f6ng\u00e9sz\u00e9se A k\u00f6nyveket kateg\u00f3ri\u00e1kba kell tundni szervezni (t\u00f6bb szint\u0171). Egy kateg\u00f3ri\u00e1t kiv\u00e1lasztva megjelennek a kateg\u00f3ri\u00e1ban l\u00e9v\u0151 k\u00f6nyvek a legfontosabb inform\u00e1ci\u00f3kkal (c\u00edm, szerz\u0151, \u00e1r, bor\u00edt\u00f3k\u00e9p) egy lapozhat\u00f3 list\u00e1ban. Az alkalmaz\u00e1s kezd\u0151 oldala is egy ilyen list\u00e1t tartalmaz, azonban az a kateg\u00f3ri\u00e1kban kiemelt / \u00fajdons\u00e1gokat mutatja. Ha itt egy k\u00f6nyvre kattintunk, akkor bej\u00f6n a k\u00f6nyv r\u00e9szletes oldala, amiben minden adat megtal\u00e1lhat\u00f3 a k\u00f6nyvr\u0151l, illetve a hozz\u00e1 tartoz\u00f3 aj\u00e1nl\u00f3k \u00e9s kommentek is.</p> </li> <li> <p>K\u00f6nyvek keres\u00e9se A felhaszn\u00e1l\u00f3k t\u00f6bb esetben konkr\u00e9t k\u00f6nyvet keresnek, aminek ismerik a c\u00edm\u00e9t vagy annak egy r\u00e9sz\u00e9t. Ehhez sz\u00fcks\u00e9ges egy keres\u0151 megval\u00f3s\u00edt\u00e1sa, ami felaj\u00e1nlja g\u00e9pel\u00e9s k\u00f6zben a tal\u00e1latokat, \u00e9s ha egy konkr\u00e9t k\u00f6nyvre kattintunk, elvisz annak a r\u00e9szletes oldal\u00e1ra. Ha pedig t\u00f6bb tal\u00e1lat lenne, akkor egy r\u00e9szletes keres\u00e9st ind\u00edt, ahol a list\u00e1zzuk a tal\u00e1latokat egy k\u00fcl\u00f6n oldalon.</p> </li> <li> <p>Kos\u00e1r \u00e9s megrendel\u00e9s A felhaszn\u00e1l\u00f3k a megvenni k\u00edv\u00e1nt k\u00f6nyveket egy kos\u00e1rba gy\u0171jthetnek, majd a k\u00e9s\u0151bbiekben ezt feladhatj\u00e1k, mint egy rendel\u00e9st. A kor\u00e1bbi rendel\u00e9sek list\u00e1j\u00e1t k\u00e9s\u0151bb visszan\u00e9zhetik \u00e9s nyomon k\u00f6vethetik azok \u00e1llapot\u00e1t.</p> </li> <li> <p>Felhaszn\u00e1l\u00f3 kezel\u00e9s Sz\u00fcks\u00e9ges, hogy a felhaszn\u00e1l\u00f3k tudjanak regisztr\u00e1lni \u00e9s bel\u00e9pni. A bel\u00e9p\u00e9st ak\u00e1r k\u00fcls\u0151 autentik\u00e1ci\u00f3s szolg\u00e1ltat\u00e1ssal is lehessen megval\u00f3s\u00edtani (pl: Google, Facebook accounttal) Ezen fel\u00fcl sz\u00fcks\u00e9ges megk\u00fcl\u00f6nb\u00f6ztetni az admin felhaszn\u00e1l\u00f3kat, akik szerkeszthetik a k\u00f6nyvek \u00e9s a kateg\u00f3ri\u00e1k adatait, illetve moder\u00e1lhatj\u00e1k a k\u00f6z\u00f6ss\u00e9g \u00e1ltal k\u00e9sz\u00edtett tartalmakat.</p> </li> <li> <p>Profil adatok kezel\u00e9se Lehet\u0151s\u00e9get kell adni a jelsz\u00f3v\u00e1ltoztat\u00e1sra, illetve a felhaszn\u00e1l\u00f3nak a sz\u00e1ll\u00edt\u00e1si \u00e9s sz\u00e1ml\u00e1z\u00e1si adatait el kell t\u00e1rolni.</p> </li> <li> <p>Aj\u00e1nl\u00f3k l\u00e9trehoz\u00e1sa adott k\u00f6nyvh\u00f6z A felhaszn\u00e1l\u00f3k egy-egy k\u00f6nyvh\u00f6z aj\u00e1nl\u00f3kat hozhatnak l\u00e9tre, melyek a k\u00f6nyv r\u00e9szletes oldal\u00e1n megjelennek egy list\u00e1ban. Az aj\u00e1nl\u00f3k rendelkeznek r\u00e9szletes oldallal is, \u00e9s egy k\u00fcl\u00f6n oldalon el\u00e9rhet\u0151k a leg\u00fajabb id\u00e9zetek is.</p> </li> <li> <p>Kommentek f\u0171z\u00e9se a k\u00f6nyvekhez A felhaszn\u00e1l\u00f3k egy-egy k\u00f6nyvh\u00f6z egyszer\u0171 kommentet is lehet f\u0171zni, ami megjelenik a k\u00f6nyv r\u00e9szletes oldalon.</p> </li> </ul>"},{"location":"seminar/01%20-%20Tervezes/01%20-%20Tervezes/#ui-terv-keszitese","title":"UI terv k\u00e9sz\u00edt\u00e9se","text":""},{"location":"seminar/01%20-%20Tervezes/01%20-%20Tervezes/#balsamiq","title":"Balsamiq","text":"<p>A tervez\u00e9s legfontosabb r\u00e9sze, hogy azt tervezz\u00fck meg, amit a megrendel\u0151 szeretne. Ehhez \u00e9rdemes a fejleszt\u00e9s legelej\u00e9n gyorsan megtervezni a legfontosabb wireframeeket. Ehhez egy kiv\u00e1l\u00f3 eszk\u00f6z a Balsamiq, melynek webes verzi\u00f3ja regisztr\u00e1ci\u00f3 ut\u00e1n 14 napig ingyenesen haszn\u00e1lhat\u00f3.</p> <p>TODO: Le\u00edr\u00e1s a balsamiqhoz. Hogyan lesz trial fi\u00f3k hozz\u00e1.</p>"},{"location":"seminar/01%20-%20Tervezes/01%20-%20Tervezes/#figma","title":"Figma","text":"<p>TODO: Le\u00edr\u00e1s + rajzok</p>"},{"location":"seminar/01%20-%20Tervezes/01%20-%20Tervezes/#adatbazis-tervezes","title":"Adatb\u00e1zis tervez\u00e9s","text":"<p>TODO: K\u00e9p beilleszt\u00e9se TODO: Projektbe ker\u00fclj\u00f6n be a class diagram is a modellr\u0151l.</p>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/","title":"Project strukt\u00fara \u00e9s adatmodell","text":""},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#project-struktura-es-adatmodell","title":"Project strukt\u00fara \u00e9s adatmodell","text":""},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#architektura","title":"Architekt\u00fara","text":"<p>Az alkalmaz\u00e1st klasszikus t\u00f6bbr\u00e9teg\u0171 architekt\u00far\u00e1ban val\u00f3s\u00edtjuk meg.</p> <ul> <li>UI: A felhaszn\u00e1l\u00f3i fel\u00fcltet mag\u00e1ba foglal\u00f3 r\u00e9teg. Att\u00f3l f\u00fcgg, hogy milyen technol\u00f3gi\u00e1t v\u00e1lasztunk.  </li> <li>ASP.NET MVC \u00e9s Razor page eset\u00e9n (szerver oldali renderel\u00e9s) a kontr\u00e9t HTML olalt jelenti.</li> <li>Blazor eset\u00e9n (kliend oldali renderel\u00e9s) a kliens oldali k\u00f3dot jelenti, de ilyen esetben megjelenik egy Web API r\u00e9teg is, amit HTTP-n kereszt\u00fcl a kliens tud h\u00edvni.</li> <li>Business Logic (Bll): Az alkalmaz\u00e1s \u00fczleti logikai r\u00e9tege. Ez a r\u00e9teg k\u00e9rdezi le EF seg\u00edts\u00e9g\u00e9vel az adatokat az adatb\u00e1zisb\u00f3l \u00e9s adja vissza a h\u00edv\u00f3 r\u00e9tegnek az adatokat miut\u00e1n DTO-kra konvert\u00e1lta.</li> <li>Data Access (Dal): Az adatb\u00e1zis Entity Framework r\u00e9teg\u00e9t tartalmazza. Itt tal\u00e1ljat\u00f3k az adatb\u00e1zis entit\u00e1sok, a DbContext \u00e9s migr\u00e1ci\u00f3k.</li> </ul>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#server-oldali-rendereles-eseten","title":"Server oldali renderel\u00e9s eset\u00e9n","text":"<p>ASP.NET MVC vagy Razor Page eset\u00e9n a szerver \u00e1ll\u00edtja el\u0151 a HTML tartalmat, amit a b\u00f6ng\u00e9sz\u0151nek csak meg kell jelen\u00edteni. Ilyen esetben kliens oldalon minim\u00e1lis JavaScript k\u00f3d tal\u00e1lhat\u00f3.</p> <p></p> <p>Mint a fenti \u00e1br\u00e1n is l\u00e1that\u00f3, nincs \u00e9rdemi Frontend k\u00f3d, hiszen a kliens oldalra HTML k\u00f3d ker\u00fcl lek\u00fcld\u00e9sre, amit csak meg kell jelen\u00edteni. A kliens oldali inter\u00e1ci\u00f3khoz nincs sepi\u00e1lis t\u00e1mogat\u00e1s, azt csak JavaScript seg\u00edts\u00e9g\u00e9vel tudjuk megval\u00f3s\u00edtani. Esetleg jQuery \u00e9s jQuery UI-t tudunk m\u00e9g erre haszn\u00e1lni.</p>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#kliens-oldali-rendereles-eseten","title":"Kliens oldali renderel\u00e9s eset\u00e9n","text":"<p>Blazor Web Assembly eset\u00e9n, a k\u00f3d egy r\u00e9sze (UI r\u00e9teg) a kliensen fut \u00edgy backend oldalon sz\u00fcks\u00e9g van egy Web API r\u00e9tegre, amit a kliens meg tud h\u00edvni az adatok let\u00f6lt\u00e9s\u00e9hez.</p> <ul> <li>Els\u0151 oldal bet\u00f6lt\u00e9skor let\u00f6lt\u0151dik az alkalmaz\u00e1s k\u00f3dja a kliensre</li> <li>Ezt k\u00f6vet\u0151en a kliens aszinkron k\u00e9r\u00e9sekkel t\u00f6lti le a sz\u00fcks\u00e9ges adatokat, amit azt\u00e1n megjelen\u00edt a fel\u00fcleten.</li> </ul> <p></p> <p>Figyelj\u00fck meg, hogy a kliens \u00e9s szerver j\u00f6z\u00f6tt JSON-ban utaznak a DTO (Data Transfer Object) oszt\u00e1lyok. Blazor eset\u00e9n a kliens \u00e9s szerver oldali k\u00f3d is C#-ban k\u00e9sz\u00fcl \u00edgy a DTO-kat mag\u00e1ba foglal\u00f3 Transfer projekre a kliens \u00e9s a szerver is tartalmaz referenci\u00e1t, teh\u00e1t nincs sz\u00fcks\u00e9g a szerver oldali DTO-k gener\u00e1l\u00e1s\u00e1ra kliens oldalon. (React \u00e9s Angular eset\u00e9n ez sz\u00fcks\u00e9ges lenne, hiszen ott a kliens oldali programoz\u00e1si nyelv a JS / TS, \u00edgy a DTO-kat is azon a nyelven kell megval\u00f3s\u00edtani.)</p>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#kozos-backend-resz-kialakitasa","title":"K\u00f6z\u00f6s backend r\u00e9sz kialak\u00edt\u00e1sa","text":"<p>Ahogy a fenti architekt\u00fara \u00e1br\u00e1kon is l\u00e1tszik mindk\u00e9t megk\u00f6zel\u00edt\u00e9s eset\u00e9n a Business Logic \u00e9s a Data Access r\u00e9teg lehet k\u00f6z\u00f6s, s\u0151t a DTO-kat tartalmaz\u00f3 Transfer projekt is.</p> <p>Ha az alkalmaz\u00e1sunk t\u00f6bb projektb\u0151l \u00e1ll, akkor a projekteket egy \u00fan. solution fogja \u00f6ssze, amely egy logikai egys\u00e9get ad a projektek k\u00f6r\u00e9. Alapvet\u0151en a projekt egy egys\u00e9gnyi, egy\u00e9rtelm\u0171 kimenettel rendelkez\u0151 k\u00f3dhalmaz, p\u00e9ld\u00e1ul egy szerelv\u00e9ny (.exe, .dll saj\u00e1t f\u00fcgg\u0151s\u00e9geivel) vagy website (.dll-ek, statikusan kiszolg\u00e1land\u00f3 f\u00e1jlok stb). Az egy solution-ben lev\u0151 projektek teh\u00e1t egy nagyobb probl\u00e9ma megold\u00e1s\u00e1\u00e9rt felel\u0151s nagyobb \u00e9p\u00edt\u0151kock\u00e1k.</p> <p>Hozzunk l\u00e9tre a BookShop.Dal projektet. Ehhez v\u00e1lasszuk a <code>File \u2192 New \u2192 Projekt / Solution</code> opci\u00f3t, majd a felugr\u00f3 ablakban adjuk meg a sz\u00fcks\u00e9ges adatokat.</p> <ul> <li>Project t\u00edpusa: Class Library</li> <li>Project neve: BookShop.Dal</li> <li>Solution neve: BookShop</li> <li>Framework: .NET 10</li> </ul> <p> </p> <p>Ezt k\u00f6vt\u0151en l\u00e9trej\u00f6n a Solution \u00e9s benne a projekt is, ahogy azt a Solution Explorer ablakban l\u00e1thatjuk.</p> <p></p> <p>Adjuk hozz\u00e1 a solution-h\u00f6z a <code>BoohShop.Bll</code> projektet is. Ehhez jobb gombbal kattintsunk a Solution-re, majd v\u00e1lasszuk az <code>Add \u2192 New Project</code> opci\u00f3t, majd adjuk meg a projekt adatait.</p> <p></p> <p>A fentihez hasonl\u00f3 m\u00f3don vegy\u00fck fel a <code>BookShop.Transfer</code> projektet is.</p> <p>Adjuk referenci\u00e1t a <code>BookShop.Bll</code> projektb\u0151l a <code>BookShop.Dal</code> \u00e9s <code>BookShop.Transfer</code> projektekre.</p> <p> </p>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#data-access-layer-megvalositasa","title":"Data Access Layer megval\u00f3s\u00edt\u00e1sa","text":"<p>A projekt strukt\u00fara elk\u00e9sz\u00edt\u00e9se ut\u00e1n nekifoghatunk a legals\u00f3 r\u00e9teg megval\u00f3s\u00edt\u00e1s\u00e1hoz.</p> <ol> <li>A projekten vagy a projekt alatti Dependencies elemen jobb klikkelve a <code>Manage NuGet Packages...</code> telep\u00edthet\u00fcnk NuGet csomagokat.</li> <li>A Browse tabon adjuk meg a csomag nev\u00e9t <code>Microsoft.EntityFrameworkCore.SqlServer</code>, v\u00e1lasszuk ki a list\u00e1b\u00f3l, ellen\u0151rizz\u00fck a verzi\u00f3sz\u00e1mot, majd install\u00e1ljuk a projekthez! </li> <li>A telep\u00edt\u00e9s megkezd\u00e9se eltt meg kell er\u0151s\u00edten\u00fcnk, hogy a sz\u00fcks\u00e9ges m\u00f3dos\u00edt\u00e1sokat v\u00e9grehajthatja \u00e9s el kell fogadni a felhaszn\u00e1l\u00e1si felt\u00e9teleket.</li> <li>T\u00f6r\u00f6lhetj\u00fck a kiindul\u00e1skor l\u00e9trej\u00f6tt <code>Class1.cs</code> f\u00e1jlt.</li> <li> <p>Hozzunk l\u00e9tre egy <code>Entities</code> mapp\u00e1t, benne a <code>Book.cs</code> oszt\u00e1llyal! Ennek tartalma az al\u00e1bbi:</p> <pre><code>namespace BookShop.Dal.Entities;\n\npublic class Book\n{\n    public int Id { get; set; }\n    public string Title { get; set; } = null!;\n    public string Author { get; set; } = null!;\n    public string? Subtitle { get; set; }\n    public string? ShortDescription { get; set; }\n    public decimal Price { get; set; }\n    public decimal? DiscountedPrice { get; set; }\n    public int PublishYear { get; set; }\n    public int PageNumber { get; set; }\n}\n</code></pre> </li> <li> <p>Figyelj\u00fck meg a fenti k\u00f3dban az al\u00e1bbiakat</p> <ul> <li>Nincs az oszt\u00e1lyban k\u00fcl\u00f6n using r\u00e9sz, mert csak olyan n\u00e9vtereket haszn\u00e1lunk amik glob\u00e1lisan using-olva vannak.</li> <li>A namespace ut\u00e1n nincs kapcsosz\u00e1r\u00f3jel, hanem <code>;</code> szerepel, \u00edgy cs\u00f6kkentve a k\u00f3dbeh\u00faz\u00e1st.</li> <li>A <code>Title</code> \u00e9s <code>Author</code> mez\u0151k nem lehetnek \u00fcresek, \u00edgy a property v\u00e9g\u00e9n szereplel az <code>= null!</code>    Ha nem szerepelne ott a <code>= null!</code> warningot kapn\u00e1nk r\u00e1, mert a projekten alap\u00e9rtelmez\u00e9s szerint enged\u00e9lyezve van a referencia szerinti null-ok kezel\u00e9se.    A projekt f\u00e1jlban a <code>&lt;Nullable&gt;enable&lt;/Nullable&gt;</code> sor enged\u00e9lyezi.    A null-forgiving operator (!) seg\u00edts\u00e9g\u00e9vel be\u00e1ll\u00edtjuk null-ra \u00fagy, hogy ne sz\u00f3ljon \u00e9rte a ford\u00edt\u00f3. Navigation property-k eset\u00e9n ez a javasolt megold\u00e1s.</li> <li>Vagy k\u00e9sz\u00edts\u00fcnk hozz\u00e1 egy konstruktort, ami v\u00e1rja a Title-t \u00e9s be\u00e1ll\u00edtja. Egyszer\u0171 property-k eset\u00e9n ez a javasolt megold\u00e1s. De bizonyos estekben ez neh\u00e9zs\u00e9get okoz, mert nem tudjuk a default constructort haszn\u00e1lni, \u00edgy \u00e1ltal\u00e1ban a <code>null!</code>-es megold\u00e1st szoktuk haszn\u00e1lni.</li> </ul> </li> <li> <p>A fentihez hasonl\u00f3an hozzuk l\u00e9tre a <code>Category.cs</code> entit\u00e1st is.</p> <pre><code>namespace BookShop.Dal.Entities;\n\npublic class Category\n{\n    public int Id { get; set; }\n    public string Name { get; set; } = null!;\n    public string? Order { get; set; }\n    public int? ParentCategoryId { get; set; }\n\n    // Navigation properties\n    public virtual Category? ParentCategory { get; set; }\n    public virtual ICollection&lt;Book&gt; Books { get; set; } = [];\n    public virtual ICollection&lt;Category&gt; ChildCategories { get; set; } = [];\n}\n</code></pre> </li> <li> <p>Vegy\u00fcnk fel a projekt gy\u00f6ker\u00e9be egy <code>BookShopDbContext.cs</code> f\u00e1jlt a lentebbi tartalommal!</p> <pre><code>using BookShop.Dal.Entities;\nusing Microsoft.EntityFrameworkCore;\n\nnamespace BookShop.Dal;\n\npublic class BookShopDbContext : DbContext \n{ \n    public BookShopDbContext(DbContextOptions options) : base(options) \n    { } \n\n    public DbSet&lt;Book&gt; Books { get; set; } \n    public DbSet&lt;Category&gt; Categories { get; set; }\n}\n</code></pre> </li> <li> <p>Ha k\u00e9zzel hozzuk l\u00e9tre az oszt\u00e1lyt, a <code>using</code>-okat k\u00e9s\u0151bb szoktuk a k\u00f3dba helyezni, amikor hivatkoz\u00e1s t\u00f6rt\u00e9nik r\u00e1juk, ehhez a <code>Ctrl</code> + <code>.</code> billenty\u0171ket vagy a bal oldali s\u00e1rga villanyk\u00f6rt\u00e9t tudjuk haszn\u00e1lni.</p> </li> <li> <p>A fenti k\u00f3dot tuduk m\u00e9g t\u00f6rm\u00f6rebben \u00edrni a <code>primary constructor</code> haszn\u00e1lat\u00e1val. Ehhez kattintsunk a sor elej\u00e9n tal\u00e1lhat\u00f3 l\u00e1mpa ikonra, vagy a konstruktor neve alatt l\u00e9v\u0151 ... r\u00e9szre. </p> </li> <li> <p>\u00cdgy a fenti k\u00f3dunk m\u00e9g t\u00f6m\u00f6rebb lett.</p> <pre><code>public class BookShopDbContext(DbContextOptions options) : DbContext(options) \n{\n    public DbSet&lt;Book&gt; Books { get; set; } \n    public DbSet&lt;Category&gt; Categories { get; set; }\n}\n</code></pre> </li> <li> <p>Az oszt\u00e1ly konstruktor\u00e1ban egy <code>DbContextOptions</code> p\u00e9ld\u00e1nyt v\u00e1r, ami az adatb\u00e1zis-kapcsolat konfigur\u00e1ci\u00f3s be\u00e1ll\u00edt\u00e1sait (timeout, connection string) tartalmazza. Ezt k\u00e9s\u0151bb konfigur\u00e1ljuk fel. Ez az oszt\u00e1ly, \u00e9s a benne tal\u00e1lhat\u00f3 <code>DbSet&lt;T&gt;</code> p\u00e9ld\u00e1nyok megval\u00f3s\u00edtj\u00e1k az \u00fan. repository mint\u00e1t. A minta gyakorlatilag t\u00e1voli objektumok proxy-z\u00e1s\u00e1t, esetleges cache-el\u00e9s\u00e9t val\u00f3s\u00edtja meg a CRUD m\u0171veletek el\u00e9rhet\u0151v\u00e9 t\u00e9tel\u00e9vel. Az ut\u00f3bbi id\u0151szakban egyre trendibb lett (sajnos) plusz egy repository r\u00e9teg fel\u00e9p\u00edt\u00e9se az EF r\u00e9teg f\u00f6l\u00e9, ezt a megk\u00f6zel\u00edt\u00e9st er\u0151sen ellenjavalljuk (k\u00f3dkarbantarthat\u00f3s\u00e1gi, teljes\u00edtm\u00e9nybeli \u00e9s architektur\u00e1lis okokb\u00f3l). Egy <code>DbContext</code> p\u00e9ld\u00e1nyt haszn\u00e1lva mi magunk val\u00f3s\u00edtjuk meg a Unit of work mint\u00e1t, a p\u00e9ld\u00e1ny l\u00e9trej\u00f6tte \u00e9s az egyes <code>SaveChanges</code> h\u00edv\u00e1sok k\u00f6z\u00f6tt egy egys\u00e9gnyi munka t\u00f6rt\u00e9nik. A <code>DbContext</code> megval\u00f3s\u00edtja az <code>IDisposable</code> interf\u00e9szt, teh\u00e1t van saj\u00e1t <code>Dispose</code> met\u00f3dusa, mely az adatb\u00e1zis kapcsolat bont\u00e1s\u00e1\u00e9rt felel\u0151s. Ha nem <code>DI</code> seg\u00edts\u00e9g\u00e9vel adjuk \u00e1t a megfelel\u0151 p\u00e9ld\u00e1nyt hanem k\u00e9zzel hozzuk l\u00e9tre (ami nem javasolt), akkor mindig <code>using</code> vagy <code>try-(catch-)finally</code> blokkban haszn\u00e1ljuk a <code>DbContext</code> p\u00e9ld\u00e1nyokat, mert \u00edgy garant\u00e1lhat\u00f3 csak a dr\u00e1ga adatb\u00e1ziskapcsolatok megsz\u00fcntet\u00e9se, amikor m\u00e1r nincsen r\u00e1juk tov\u00e1bb sz\u00fcks\u00e9g!</p> </li> <li> <p>A s\u00e9ma megad\u00e1s\u00e1hoz Code First megk\u00f6zel\u00edt\u00e9st haszn\u00e1lunk (teh\u00e1t a DB modellj\u00e9t .NET k\u00f3dban adjuk meg), az adatb\u00e1zis s\u00e9m\u00e1j\u00e1nak karbantart\u00e1s\u00e1hoz pedig a keretrendszer \u00e1ltal t\u00e1mogatott \u00fan. migr\u00e1ci\u00f3kat haszn\u00e1lunk.</p> </li> <li>Ahhoz, hogy a migr\u00e1ci\u00f3kat l\u00e9tre tudjuk hozni indul\u00f3 projket n\u00e9lk\u00fcl sz\u00fcks\u00e9ges egy <code>IDesignTimeDbContextFactory</code> implement\u00e1l\u00e1sa.</li> <li>K\u00e9sz\u00edts\u00fck el a <code>BookShop.Dal</code> projektben a saj\u00e1t <code>IDesignTimeDbContextFactory</code> implement\u00e1ci\u00f3nkat. Ez az ideiglenes megold\u00e1s arra j\u00f3, hogy ki tudjuk pr\u00f3b\u00e1lni a migr\u00e1ci\u00f3t, a n\u00e9lk\u00fcl hogy tov\u00e1bbi r\u00e9tegeket venn\u00e9nk fel.</li> <li> <p>Hozzuk l\u00e9tre a <code>BookShopDbContextFactory</code> oszt\u00e1lyt az al\u00e1bbi implement\u00e1ci\u00f3val.</p> <pre><code>using Microsoft.EntityFrameworkCore;\nusing Microsoft.EntityFrameworkCore.Design;\n\nnamespace BookShop.Dal;\n\ninternal class BookShopDbContextFactory : IDesignTimeDbContextFactory&lt;BookShopDbContext&gt;\n{\n    public BookShopDbContext CreateDbContext(string[] args)\n    {\n        var optionsBuilder = new DbContextOptionsBuilder&lt;BookShopDbContext&gt;();\n        optionsBuilder.UseSqlServer(\"Data Source=.;Initial Catalog=BookShopDb;Integrated Security=True;TrustServerCertificate=True\");\n\n        return new BookShopDbContext(optionsBuilder.Options);\n    }\n}\n</code></pre> </li> <li> <p>Figyelj\u00fck meg, hogy az oszt\u00e1ly <code>internal</code> hiszen nem szeretn\u00e9nk m\u00e1shonnan el\u00e9rni. Ezen fel\u00fcl ennek a megold\u00e1snak a h\u00e1tr\u00e1ny\u00e1t is vegy\u00fck \u00e9szre, hiszen itt az adatb\u00e1zis kapcsol\u00f3d\u00e1si sztringet bele kellett \u00edrni a k\u00f3dba, nem konfigur\u00e1ci\u00f3b\u00f3l olvassuk fel! Ezen fel\u00fcl az SQL kapcsol\u00f3d\u00e1i sztringben szerepel egy <code>TrustServerCertificate=True</code> ami azt jelzi, hogy a szerver SSL tan\u00fas\u00edtv\u00e1ny\u00e1t fogadja el akkor is, ha az nem \u00e9rv\u00e9nyes.</p> </li> <li> <p>A migr\u00e1ci\u00f3 automatiz\u00e1lt l\u00e9trehoz\u00e1s\u00e1ra k\u00e9t lehet\u0151s\u00e9g\u00fcnk van: <code>PowerShell</code> vagy a platform f\u00fcggetlen <code>.NET Core CLI</code> (Command Line Interface), ami a <code>dotnet ef</code> parancs (ezt \u00e9rdemes global package-k\u00e9nt telep\u00edteni, ha ezt szeretn\u00e9nk haszn\u00e1lni). Sz\u00e1munkra egyszer\u0171bb most az els\u0151 megold\u00e1s, ez\u00e9rt nyissuk meg a <code>Package Manager Console</code>-t (View \u2192 Other Windows \u2192 Package Manager Console), \u00e9s adjuk ki az al\u00e1bbi parancsot (k\u00f6zben \u00fcgyelj\u00fcnk, hogy a Default projekt a <code>BookShop.Dal</code> legyen!):</p> <p></p> <p>Ahhoz, hogy ki tudjuk adni az Add-Migration parancsot, fel kell telep\u00edteni a <code>Microsoft.EntityFrameworkCore.Tools</code> nuget packaget a DAL projekthez</p> </li> <li> <p>A <code>Package Manager Console</code>-b\u00f3l adjuk ki a parancsot, ami legener\u00e1lja a kezdeti migr\u00e1ci\u00f3t. Figyelj\u00fcnk arra, hogy a Default project a <code>BookShop.Dal</code> legyen. Az \u00e1tadott <code>Initial</code> param\u00e9ter egy szabadsz\u00f6veges sting, mely a migr\u00e1ci\u00f3nk nev\u00e9t adja. Ez teh\u00e1t a kiindul\u00f3 (initial) migr\u00e1ci\u00f3nk.</p> <pre><code>Add-Migration Initial\n</code></pre> <p></p> </li> <li> <p>N\u00e9zz\u00fck meg a solution explorer ablakban, hogy l\u00e9trej\u00f6ttek a migr\u00e1ci\u00f3k.</p> <p></p> <p>A migr\u00e1ci\u00f3s f\u00e1jlokban (pl.: <code>Datum_Initial.cs</code>) j\u00f3l \u00e9rtelmezhet\u0151, gener\u00e1lt k\u00f3dot tal\u00e1lunk, amelyekben sz\u00fcks\u00e9g eset\u00e9n ak\u00e1r m\u00f3dos\u00edt\u00e1sokat is v\u00e9gezhet\u00fcnk, \u00e9s b\u00e1r ez \u00e1ltal\u00e1noss\u00e1gban nem jellemz\u0151, mindenk\u00e9pp tudni illik, mert el\u0151fordul, hogy k\u00e9zi m\u00f3dos\u00edt\u00e1st kell v\u00e9gezn\u00fcnk ezekben a f\u00e1jlokban. Ez \u00e9p\u00edti fel a migr\u00e1ci\u00f3hoz sz\u00fcks\u00e9ges SQL parancsokat az alkalmaz\u00e1shoz, teh\u00e1t defini\u00e1lja a s\u00e9m\u00e1t: t\u00e1bl\u00e1kat, kulcsokat, megk\u00f6t\u00e9seket stb.</p> <p></p> </li> <li> <p>Futtassuk le a migr\u00e1ci\u00f3t, hogy l\u00e9trej\u00f6jj\u00f6n az adatb\u00e1zis is.</p> <pre><code>Update-Database\n</code></pre> <p></p> </li> <li> <p>Ezut\u00e1n megvizsg\u00e1lhatjuk SQL Server Object Explorerben a l\u00e9trej\u00f6tt s\u00e9m\u00e1t is.</p> <p></p> <p>\u00c9rdemes \u00e9szrevenn\u00fcnk, hogy az <code>Id</code> oszlophoz automatikusan DB-gener\u00e1lt kulcs j\u00f6n l\u00e9tre, pedig ezt nem fogalmaztuk meg sehol. Az EF konvenci\u00f3kat haszn\u00e1l nagyon sok s\u00e9m\u00e1val kapcsolatos m\u0171velethez, ilyen p\u00e9ld\u00e1ul az els\u0151dleges kulcs k\u00e9nyszer is, amivel, ha egy entit\u00e1sban egy <code>int</code> vagy <code>Guid</code> t\u00edpus\u00fa, <code>ID</code>, <code>Id</code> vagy <code>&lt;T\u00edpus&gt;Id</code> nev\u0171 mez\u0151t hozunk l\u00e9tre, az automatikus kulcsa lesz az adott t\u00e1bl\u00e1nak. 23. A migr\u00e1ci\u00f3ban l\u00e1thatjuk, hogy egy <code>Up()</code> \u00e9s egy <code>Down()</code> met\u00f3dus ker\u00fcl defini\u00e1l\u00e1sra. Az <code>Up()</code> met\u00f3dusok lefuttat\u00e1s\u00e1val a keretrendszer olyan SQL k\u00f3dot gener\u00e1l, amelyet egy kor\u00e1bbi (teh\u00e1t \u00fcres) adatb\u00e1zison lefuttatva a migr\u00e1ci\u00f3 \u00e1llapot\u00e1nak megfelel\u0151 s\u00e9m\u00e1t hoz l\u00e9tre. A <code>Down()</code> futtat\u00e1s\u00e1val a kor\u00e1bbi \u00e1llapotra tudunk vissza\u00e1llni. Figyelj\u00fck meg, hogy az adatb\u00e1zisban is be\u00e1ll\u00edtja a <code>Book.cs</code>-ben megadott property-k t\u00edpusa alapj\u00e1n, hogy az adott mez\u0151 lehet-e null.</p> <ul> <li>A PublishYear t\u00edpusa int \u00edgy az k\u00f6telez\u0151 mez\u0151, nem lehet null az \u00e9rt\u00e9ke</li> <li>A DiscountedPrice t\u00edpusa decimal? ami viszont lehet null, ez\u00e9rt az adatb\u00e1zis t\u00e1bl\u00e1ban is nullable-k\u00e9nt j\u00f6n l\u00e9tre.</li> <li>A Title string t\u00edpus\u00fa \u00e9s az adatb\u00e1zisban not null-k\u00e9nt j\u00f6n l\u00e9tre. De mi\u00e9rt? A string lehet null. Vagy m\u00e9gsem? Att\u00f3l f\u00fcgg, hogy a Nullable reference type-okat haszn\u00e1ljuk vagy sem. A gener\u00e1lt projekt alap\u00e9rtelmez\u00e9s szerint haszn\u00e1lja, teh\u00e1t a string nem lehet null. Ha meg szeretn\u00e9nk engedni, hogy a sztring lehessen null, akkor string? -et kell haszn\u00e1lni, ahogy haszn\u00e1ltuk is a <code>Book.cs</code>-ben</li> </ul> </li> </ol>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#adatbazis-model-diagram-keszitese","title":"Adatb\u00e1zis model diagram k\u00e9sz\u00edt\u00e9se","text":"<ol> <li>A k\u00e9s\u0151bbiekben a fejleszt\u00e9st nagy m\u00e9rt\u00e9kben seg\u00edti, ha az adatmodellr\u0151l van egy diagramunk. Ezt \u00fagy tudjuk l\u00e9trehozni, hogy a <code>BoohShop.Dal/Entites</code> k\u00f6nyvr\u00e1thoz hozz\u00e1adunk egy \u00faj <code>Class Diagram</code> t\u00edpus\u00fa elemet.</li> </ol> <ol> <li>Ezt k\u00f6vet\u0151en h\u00fazzuk r\u00e1 a diagramra a <code>Book</code> \u00e9s <code>Category</code> entit\u00e1sokat. Azonban ez m\u00e9g kev\u00e9s, mert szeretn\u00e9nk a \"t\u00e1bl\u00e1k\" (val\u00f3j\u00e1ban entit\u00e1sok) k\u00f6z\u00f6tti kapcsolatokat is l\u00e1tni. Ehhez kattintunk jobb gombbal a <code>Category</code> entit\u00e9s <code>ChildCategories</code> tulajdons\u00e1g\u00e1ra, majd v\u00e1lasszuk a <code>Show as Collection Association</code>-t, hiszen egy egy lista. Ha nem lista lenne akkor a <code>Show as Assiciation</code> a megfelel\u0151 v\u00e1laszt\u00e1s.</li> </ol> <ol> <li>\u00c1ll\u00edtsuk be a <code>ParentCategory</code>-ra \u00e9s a <code>Books</code>-ra is, hogy kapcsolatk\u00e9nt mutassa.</li> </ol> <ol> <li>\u00cdgy m\u00e1r van egy folyamatosan friss\u00fcl\u0151 diagramunk a k\u00f3dban, ahol \u00e1ttekinthetj\u00fck a EF modell\u00fcnket.</li> </ol>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#kezdeti-adatfeltoltes","title":"Kezdeti adatfelt\u00f6lt\u00e9s","text":"<ol> <li>Az alkalmaz\u00e1s kezdeti, \u00fan. \u0151sadatokkal t\u00f6rt\u00e9n\u0151 felt\u00f6lt\u00e9s\u00e9t (seed) a keretrendszer seg\u00edts\u00e9g\u00e9vel oldjuk meg. \u0150sadatokat a <code>DbContext.OnModelCreating</code> met\u00f3dus\u00e1nak fel\u00fcldefini\u00e1l\u00e1s\u00e1val, \u00e9s a <code>ModelBuilder</code> fluent API haszn\u00e1lat\u00e1val tudunk az alkalmaz\u00e1shoz felvenni. Ehhez override-olnunk kell a megfelel\u0151 met\u00f3dust a <code>BookShopDbContext</code>-ben</li> </ol> <pre><code>public class BookShopDbContext(DbContextOptions options) : DbContext(options) \n{\n    public DbSet&lt;Book&gt; Books { get; set; }\n    public DbSet&lt;Category&gt; Categories { get; set; }\n\n    protected override void OnModelCreating(ModelBuilder modelBuilder) {\n        modelBuilder.Entity&lt;Book&gt;().HasData(new Book { Id = 1, Title = \"Teszt k\u00f6nyv\", ... });\n    }\n}\n</code></pre> <ol> <li> <p>Fontos megeml\u00edteni, hogy a fenti p\u00e9ld\u00e1hoz hasonl\u00f3an a HasData API-n kereszt\u00fcl mindig k\u00f6telez\u0151 kit\u00f6lteni az entit\u00e1sok els\u0151dleges kulcsait! Ez az\u00e9rt lehet szokatlan, mert mesters\u00e9ges kulcsok eset\u00e9n (mint a <code>Book</code> eset\u00e9ben is) alapvet\u0151en az adatb\u00e1zis feladata megadni egy elem ID-j\u00e1t, ez\u00e9rt m\u00e1s helyen az <code>Id</code>-t az alap\u00e9rtelmezett <code>0</code> \u00e9rt\u00e9ken fogjuk hagyni az \u00fczleti logik\u00e1ban l\u00e9trehoz\u00e1skor, azt az adatb\u00e1zis fogja kit\u00f6lteni szekvencia alapj\u00e1n. Most az\u00e9rt kell megadnunk az ID-kat, mert ezek a k\u00f3dban defini\u00e1lt entit\u00e1sok val\u00f3j\u00e1ban \u00fagy kezelend\u0151k, mintha az adatb\u00e1zisban lenn\u00e9nek megtal\u00e1lhat\u00f3k, teh\u00e1t minden tulajdons\u00e1gukat el\u0151re sz\u00e1m\u00edtottuk \u00e9s fixnek, determinisztikusnak kell lenni\u00fck. Ha nem determinisztikusak ezek az \u00e9rt\u00e9kek, minden migr\u00e1ci\u00f3 gener\u00e1l\u00e1sakor \u00fajra \u00e9s \u00fajra be fognak sz\u00far\u00f3dni az adatb\u00e1zisba az entit\u00e1sok vagy hib\u00e1ra fogunk futni. R\u00f6viden teh\u00e1t itt be\u00e9getett ID-kat kell haszn\u00e1lnunk. A fenti API haszn\u00e1lat\u00e1val nem csak \u0151sadatokat, hanem egy\u00e9b metaadat-szint\u0171 konfigur\u00e1ci\u00f3t is megadhatunk, p\u00e9ld\u00e1ul adatt\u00e1bl\u00e1k nev\u00e9t, oszlopok egyedis\u00e9g\u00e9t, indexeket stb. Ezt az API-t a k\u00e9s\u0151bbiekben, a v\u00e9gleges adatmodell k\u00e9sz\u00edt\u00e9sekor fogjuk alaposabban megvizsg\u00e1lni.</p> </li> <li> <p>T\u00f6lts\u00fcnk fel egy p\u00e1r kezdeti k\u00f6nyvet az al\u00e1bbi k\u00f3ddal</p> </li> </ol> <pre><code>public class BookShopDbContext(DbContextOptions options) : DbContext(options) \n{\n   public DbSet&lt;Book&gt; Books { get; set; }\n\n   protected override void OnModelCreating(ModelBuilder modelBuilder) \n   {\n     modelBuilder.Entity&lt;Category&gt;().HasData(\n       new Category { Id = 1, Name = \"Ezoterika\", ParentCategoryId = null, Order = \"00\" },\n       new Category { Id = 2, Name = \"Feng shui\", ParentCategoryId = 1, Order = \"00.01\" },\n       new Category { Id = 3, Name = \"Horoszk\u00f3p, asztrol\u00f3gia\", ParentCategoryId = 1, Order = \"00.02\" },\n       new Category { Id = 4, Name = \"Parapszichol\u00f3gia\", ParentCategoryId = 1, Order = \"00.03\" },\n       new Category { Id = 5, Name = \"Irodalom\", ParentCategoryId = null, Order = \"01\" },\n       new Category { Id = 6, Name = \"\u00c9letrajz\", ParentCategoryId = 5, Order = \"01.01\" },\n       new Category { Id = 7, Name = \"Dr\u00e1ma, sz\u00ednm\u0171\", ParentCategoryId = 5, Order = \"01.02\" },\n       new Category { Id = 8, Name = \"Vers, eposz\", ParentCategoryId = 5, Order = \"01.03\" },\n       new Category { Id = 9, Name = \"Tank\u00f6nyvek\", ParentCategoryId = null, Order = \"02\" },\n       new Category { Id = 10, Name = \"Matematika\", ParentCategoryId = null, Order = \"02.01\" },\n       new Category { Id = 11, Name = \"K\u00e9mia\", ParentCategoryId = null, Order = \"02.02\" },\n       new Category { Id = 12, Name = \"K\u00f6zgazdas\u00e1gtudom\u00e1ny\", ParentCategoryId = null, Order = \"02.03\" },\n       new Category { Id = 13, Name = \"Biol\u00f3gia\", ParentCategoryId = null, Order = \"02.04\" },\n       new Category { Id = 14, Name = \"Reg\u00e9ny\", ParentCategoryId = null, Order = \"03\" },\n       new Category { Id = 15, Name = \"Csal\u00e1dreg\u00e9ny\", ParentCategoryId = 14, Order = \"03.01\" },\n       new Category { Id = 16, Name = \"Fantasy\", ParentCategoryId = 14, Order = \"03.02\" },\n       new Category { Id = 17, Name = \"Erotikus\", ParentCategoryId = 14, Order = \"03.03\" },\n       new Category { Id = 18, Name = \"Krimi\", ParentCategoryId = 14, Order = \"03.04\" },\n       new Category { Id = 19, Name = \"Sci - fi\", ParentCategoryId = 14, Order = \"03.05\" },\n       new Category { Id = 20, Name = \"Thriller\", ParentCategoryId = 14, Order = \"03.06\" },\n       new Category { Id = 21, Name = \"T\u00f6rt\u00e9nelmi\", ParentCategoryId = 14, Order = \"03.07\" }\n     );\n\n     modelBuilder.Entity&lt;Book&gt;().HasData(\n       new Book()\n       {\n         Id = 1,\n         Title = \"A szem\u00e9lyes feng shui tan\u00e1csad\u00f3\",\n         Author = \"Lam Kam Chuen Mester\",\n         Subtitle = \"Hogyan \u00e9lj\u00fcnk eg\u00e9szs\u00e9gesen \u00e9s harmonikusan\",\n         PageNumber = 168,\n         Price = 3200,\n         PublishYear = 2004,\n         ShortDescription = \"A Szem\u00e9lyes feng shui tan\u00e1csad\u00f3 elmagyar\u00e1zza a feng shui alapelveit...\",\n       },\n\n       new Book()\n       {\n         Id = 2,\n         Title = \"Az \u00e9n feng shui-kertem\",\n         Author = \"Susanne Schumacher\",\n         Subtitle = \"\u00d6tletek kertekhez, teraszokhoz, erk\u00e9lyekhez\",\n         PageNumber = 128,\n         Price = 4900,\n         PublishYear = 2008,\n         ShortDescription = \"K\u00e9pzelje azt, hogy kertje egy ruhadarab....\",\n       },\n\n       new Book()\n       {\n         Id = 3,\n         Title = \"Feng Shui\",\n         Author = \"Ernest J. Eitel\",\n         Subtitle = \"A term\u00e9szet \u00e9s az egyens\u00faly k\u00ednai tudom\u00e1ny\u00e1val kapcsolatos alapvet\u0151 tudnival\u00f3k\",\n         PageNumber = 80,\n         Price = 699,\n         PublishYear = 2012,\n         ShortDescription = \"Az ember, az ember \u00e1ltal l\u00e9trehozott k\u00f6rnyezet...\",\n       }\n     );\n   }\n}\n</code></pre> <ol> <li>Most, hogy elk\u00e9sz\u00fclt\u00fcnk az \u0151sadatokkal, \u00fajabb migr\u00e1ci\u00f3t kell k\u00e9sz\u00edten\u00fcnk, ami az adatok bet\u00f6lt\u00e9s\u00e9\u00e9rt lesz felel\u0151s. Szint\u00e9n a <code>Package Manager Console</code>-ban adjuk ki az al\u00e1bbi parancsot, \u00fcgyelve arra, hogy a <code>Bookshop.Dal</code> projekt legyen kiv\u00e1lasztva:</li> </ol> <pre><code>Add-Migration InitialSeed\n</code></pre> <p>Ha mindent j\u00f3l csin\u00e1ltunk \u00edgy fog kin\u00e9zni a migr\u00e1ci\u00f3nk.    </p> <ol> <li>Futtassuk is le a migr\u00e1ci\u00f3t</li> </ol> <pre><code>Update-Database\n</code></pre> <p>Az adatb\u00e1zisba is beker\u00fclnek az adatok.    </p> <ol> <li>Figyelj\u00fck meg, hogy b\u00e1r a <code>Book.cs</code>-ben nem vett\u00fck fel <code>CategoryId</code> tulajdons\u00e1got, m\u00e9gis az adatb\u00e1zisba l\u00e9trej\u00f6tt egy ilyen osztlop. Ez az\u00e9rt van, mert a <code>Category.cs</code>-ben felvett\u00fcnk egy navig\u00e1ci\u00f3s tulajdons\u00e1got a <code>Books</code> list\u00e1t, ami egy egy-t\u00f6bbes kapcsolat a kateg\u00f3ria \u00e9s a k\u00f6nyv k\u00f6z\u00f6tt \u00edgy az EF automatikusan l\u00e9trehozza az adatb\u00e1zisban a sz\u00fcks\u00e9ges mez\u0151t.</li> </ol> <p></p> <ol> <li>Az\u00e9rt, hogy az EF modellben is l\u00e1that\u00f3 legyen ez a kapcsolat \u00e9rdemes a modellt kib\u0151v\u00edteni ezzel a tulajdons\u00e1ggal \u00e9s a navig\u00e1ci\u00f3t tulajdons\u00e1got a m\u00e1sik ir\u00e1nyba is felvenni. Mivel most nem szeretn\u00e9nk mindenhol kit\u00f6lteni ezt az \u00e9rt\u00e9ket ez\u00e9rt nullable-nek vessz\u00fck fel.</li> </ol> <pre><code>public class Book\n{\n    public int Id { get; set; }\n    public string Title { get; set; } = null!;\n    public string Author { get; set; } = null!;\n    public string? Subtitle { get; set; }\n    public string? ShortDescription { get; set; }\n    public decimal Price { get; set; }\n    public decimal? DiscountedPrice { get; set; }\n    public int PublishYear { get; set; }\n    public int PageNumber { get; set; }\n\n    public int? CategoryId { get; set; }\n    public Category? Category { get; set; }\n}\n</code></pre> <ol> <li>Illetve a DbDiagram-ot is \u00e9rdemes be\u00e1ll\u00edtani ezt a kapcsolatot. A tulajdons\u00e1g m\u00e1r ott lesz, hiszen a modellbe bekerl\u00fclt. \u00c1ltal\u00e1noss\u00e1gban elmondhat\u00f3, hogy a navig\u00e1ci\u00f3s tulajdons\u00e1gokn\u00e1l \u00e9rdemes mind a k\u00e9t ir\u00e1nyt felvenni. </li> </ol>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#boohshoptransfer-dto-k-keszitese","title":"BoohShop.Transfer - DTO-k k\u00e9sz\u00edt\u00e9se","text":"<p>Az adatb\u00e1zis entit\u00e1sok m\u00e1r megvannak, viszont nem szeretn\u00e9nk, hogy a kliens oldalra, vagy a webes fel\u00fcletre entit\u00e1sok jussanak el, ez\u00e9rt a Transfer projektben hozzuk l\u00e9tre azokat a DTO oszt\u00e1lyokat, amit majd a Webes projekt / kliens haszn\u00e1lni fog. A DTO-k elnevez\u00e9s\u00e9n\u00e9l nem \u00e9rdemes a DTO postfixet haszn\u00e1lni. Err\u0151l besz\u00e9desebb az al\u00e1bbi konvenci\u00f3</p> <ul> <li>Header: Csak alapadatokat tartalmaz, nem hivatkozik m\u00e1s DTO-ra</li> <li>Data: A fontosabb adatokat tartalmazza, hivatkozhat m\u00e1s DTO-ra is.</li> <li> <p>Details: Minden vagy a szerkeszt\u00e9shez sz\u00fcks\u00e9ges adatokat tartalmazza.</p> </li> <li> <p>Hozzunk l\u00e9tre egy <code>BookData.cs</code> oszt\u00e1lyt az al\u00e1bbi tartalommal.</p> </li> </ul> <pre><code>namespace BookShop.Transfer;\n\npublic class BookData\n{\n    public int Id { get; set; }\n    public string Title { get; set; } = null!;\n    public string Author { get; set; } = null!;\n    public string? Subtitle { get; set; }\n    public string? ShortDescription { get; set; }\n    public decimal Price { get; set; }\n    public decimal? DiscountPrice { get; set; }\n    public int PublishYear { get; set; }\n    public int PageNumber { get; set; }\n    public int? CategoryId { get; set; }\n}\n</code></pre> <ol> <li>Hozzuk l\u00e9tre hasonl\u00f3an a <code>CategoryHeader</code> oszt\u00e1lyt is.</li> </ol> <pre><code>namespace BookShop.Transfer;\n\npublic class CategoryHeader\n{\n    public int Id { get; set; }\n    public string Name { get; set; } = null!;\n    public int Level { get; set; }\n}\n</code></pre> <ol> <li>Ez ut\u00e1n m\u00e1r csak annyi feladatunk van, hogy a Bll-ben elk\u00e9sz\u00edtj\u00fck az adatb\u00e1zis lek\u00e9rdez\u00e9seket, amik DTO-kat adnak vissza.</li> </ol>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#bll-service-ek-megvalositasa","title":"Bll service-ek megval\u00f3s\u00edt\u00e1sa","text":"<p>A BLL-ben val\u00f3s\u00edtjuk meg azokat a szolg\u00e1ltat\u00e1sokat \u00e9s hozz\u00e1 tartoz\u00f3 interf\u00e9szeket, amivel adatokat tudunk lek\u00e9rdezni az adatb\u00e1zisb\u00f3l, illetve itt val\u00f3s\u00edtjuk meg az entit\u00e1s \u2192 DTO mappinget is.</p> <ol> <li>Hozzunk l\u00e9tre a <code>BookShop.Bll</code> projektben egy <code>IServices</code> \u00e9s egy <code>Services</code> mapp\u00e1t.</li> <li>Vegy\u00fck fel az <code>IServices</code> mapp\u00e1ban az <code>IBookService.cs</code> f\u00e1jlt, amiben defini\u00e1lunk egy <code>GetBooksAsny()</code> met\u00f3dust, ami majd visszaadja az \u00f6sszes k\u00f6nyvet egy list\u00e1ban.</li> </ol> <pre><code>using BookShop.Transfer;\n\nnamespace BookShop.Bll.IServices;\n\npublic interface IBookService\n{\n    Task&lt;List&lt;BookData&gt;&gt; GetBooksAsync();\n}\n</code></pre> <ol> <li>Vegy\u00fck fel az <code>IServices</code> mapp\u00e1ban az <code>ICatalogService.cs</code> f\u00e1jlt, amiben defini\u00e1lunk egy <code>GetCategoryTreeAsync()</code> met\u00f3dust, ami majd visszaadja az \u00f6sszes kateg\u00f3ri\u00e1t egy list\u00e1ban.</li> </ol> <pre><code>using BookShop.Transfer;\n\nnamespace BookShop.Bll.IServices;\n\npublic interface ICategoryService\n{\n    Task&lt;IEnumerable&lt;CategoryHeader&gt;&gt; GetCategoryTreeAsync();\n}\n</code></pre> <ol> <li>K\u00e9sz\u00eds\u00fck is el az <code>IBookService</code> interf\u00e9sz implent\u00e1ci\u00f3j\u00e1t is, amit a <code>Services</code> mapp\u00e1ban tegy\u00fcnk <code>BookService</code> n\u00e9vvel. A met\u00f3dus c\u00edm szerint sorbarendezbe kell, hogy visszaadjon a <code>BookData</code> list\u00e1t. Az al\u00e1bbiakban l\u00e1that\u00f3 hozz\u00e1 az implement\u00e1ci\u00f3.</li> </ol> <pre><code>using BookShop.Bll.IServices;\nusing BookShop.Dal;\nusing BookShop.Transfer;\nusing Microsoft.EntityFrameworkCore;\n\nnamespace BookShop.Bll.Services;\n\npublic class BookService(BookShopDbContext dbContext) : IBookService\n{\n    private readonly BookShopDbContext dbContext = dbContext;\n\n    public async Task&lt;List&lt;BookData&gt;&gt; GetBooksAsync()\n    {\n        var books = await dbContext.Books\n            .OrderBy(x =&gt; x.Title)\n        .Select(b =&gt; new BookData()\n        {\n            Id = b.Id,\n            Title = b.Title,\n            Subtitle = b.Subtitle,\n            ShortDescription = b.ShortDescription,\n            Price = b.Price,\n            DiscountPrice = b.DiscountedPrice,\n            PublishYear = b.PublishYear,\n            PageNumber = b.PageNumber,\n            Author = b.Author,\n            CategoryId = b.CategoryId,\n        }).ToListAsync();\n\n        return books;\n    }\n}\n</code></pre> <ol> <li>K\u00e9sz\u00eds\u00fck is el az <code>ICategoryService</code> interf\u00e9sz implent\u00e1ci\u00f3j\u00e1t is <code>CategoryService</code> n\u00e9vvel. Az \u00f6sszes kateg\u00f3ri\u00e1t vissza kell adni <code>Order</code> szerint rendezve. A <code>Level</code>-t \u00fagy tudjuk meghat\u00e1rozni, hogy az <code>Order</code>-ben h\u00e1ny darab pont szerepel. Az al\u00e1bbiakban l\u00e1that\u00f3 hozz\u00e1 az implement\u00e1ci\u00f3.</li> </ol> <pre><code>using BookShop.Bll.IServices;\nusing BookShop.Dal;\nusing BookShop.Transfer;\nusing Microsoft.EntityFrameworkCore;\n\nnamespace BookShop.Bll.Services;\n\npublic class CategoryService(BookShopDbContext dbContext) : ICategoryService\n{\n    private readonly BookShopDbContext _dbContext = dbContext;\n\n    public async Task&lt;IEnumerable&lt;CategoryHeader&gt;&gt; GetCategoryTreeAsync()\n    {\n        var allCategories = await _dbContext.Categories\n            .OrderBy(c =&gt; c.Order)\n            .Select(c =&gt; new CategoryHeader()\n            {\n                Id = c.Id,\n                Name = c.Name,\n                Level = c.Order != null\n                    ? c.Order.Split(\".\", StringSplitOptions.None).Length\n                    : 0,\n            })\n            .ToListAsync();\n\n        return allCategories;\n    }\n}\n</code></pre>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#automapper","title":"Automapper","text":"<p>Ahogy a fenti k\u00f3dban l\u00e1that\u00f3 most egy egyes Service-ekben tal\u00e1lhat\u00f3 az entit\u00e1s -&gt; DTO mappel\u00e9s, ami m\u0171k\u00f6d\u0151 megold\u00e1s, viszont nem lehet \u00fajrahasznos\u00edtani a mappel\u00e9seket. A gyakorlatban az Automapper csomag seg\u00edts\u00e9g\u00e9vel lehet ezeket a mappel\u00e9seket kiszervezni egy k\u00f6z\u00f6s r\u00e9szbe. Regisztr\u00e1ci\u00f3 ut\u00e1n lehet ingyenes licensz kulcsot ig\u00e9nyelni, ami 1 \u00e9vig \u00e9rv\u00e9nyes. Lej\u00e1rat ut\u00e1n ingyenesen meghosszab\u00edthat\u00f3. Csak nagyv\u00e1llalatoknak kell fizetni \u00e9rte r\u00e9szeletek az \u00e1raz\u00e1s oldalon. A licensz kulcs a Profil oldalr\u00f3l t\u00f6lthet\u0151 le.</p> <ol> <li>A <code>BookShop.Bll</code> projekthez vegy\u00fck fel az <code>AutoMapper</code> NuGet package-et.</li> <li>Vegy\u00fcnk fel egy <code>Mappings</code> k\u00f6nyvt\u00e1rat, ahova az Automapper profile-ok ker\u00fclnek majd.</li> <li>K\u00e9sz\u00edts\u00fck el a <code>CategoryProfile</code> oszt\u00e1lyt, ami a <code>AutoMapper.Profile</code> oszt\u00e1lyb\u00f3l sz\u00e1rmazik \u00e9s a konstruktor\u00e1ban hozzunk l\u00e9tre egy mappinget. A mappinget az al\u00e1bbi k\u00e9t m\u00f3don hozhatjuk l\u00e9tre:</li> <li><code>CreateMap&lt;Entity, Dto&gt;</code>: Haszn\u00e1lhat\u00f3  <code>ProjectTo</code> met\u00f3dussal \u00e9s, a <code>Map</code>-pal is. A <code>Map</code> olyan mappel\u00e9st tesz lehet\u0151ve, ahol a k\u00f3d nem fordul SQL-re, teh\u00e1t egy tetsz\u0151leges list\u00e1t is \u00e1t tudunk a mem\u00f3ri\u00e1ban Mappelni. Csak akkor \u00e9rdemes a <code>CreateMap&lt;Entity, Dto&gt;</code> haszn\u00e1lata, ha mem\u00f3ri\u00e1ban is szeretn\u00e9nk mappelni.</li> <li><code>CreateProjecton&lt;Entity, Dto&gt;</code>: Csak a <code>ProjectTo</code> met\u00f3dussal haszn\u00e1lhat\u00f3, a <code>Map</code>-pel nem, cser\u00e9be gyorsabb. \u00c1ltal\u00e1ban ezt szoktuk haszn\u00e1lni, hiszne a <code>ProjectTo</code> teszi lehet\u0151v\u00e9, hogy az adatb\u00e1zisb\u00f3l csak azt k\u00e9rdezz\u00fck le, amire sz\u00fcks\u00e9g\u00fcnk van.</li> </ol> <pre><code>using AutoMapper;\nusing BookShop.Dal.Entities;\nusing BookShop.Transfer;\n\nnamespace BookShop.Bll.Mappings;\n\npublic class CategoryProfile : Profile\n{\n    public CategoryProfile()\n    {\n        CreateProjection&lt;Category, CategoryHeader&gt;()\n            .ForMember(dest =&gt; dest.Id, opt =&gt; opt.MapFrom(src =&gt; src.Id))\n            .ForMember(dest =&gt; dest.Name, opt =&gt; opt.MapFrom(src =&gt; src.Name))\n            .ForMember(dest =&gt; dest.Level, opt =&gt; opt.MapFrom(src =&gt; src.Order != null ? src.Order.Split   (\".\", StringSplitOptions.None).Length : 0));\n    }\n}   \n</code></pre> <ol> <li> <p>Ahogy a fenti k\u00f3dban is l\u00e1tsz\u00f3dik minden tulajdons\u00e1got mappel\u00fcnk. Ezt nem k\u00f6telez\u0151, mert az AutoMapper az azonos nev\u0171 tulajdons\u00e1gokat automatikusan mappeli. Azonban ha a k\u00f3dot refaktor\u00e1ljuk, akkor a mappel\u00e9s elt\u00f6rhet. Gondoljuk v\u00e9gig, hogy a DTO-ban \u00e1tnevez\u00fcnk egy tulajdons\u00e1got \u00e9s mindehol ahol el\u0151fordul ott is \u00e1tnevez\u00e9sre ker\u00fcl automatikusan. Viszont mivel a mappingben nem szerepel az adott tulajdons\u00e1g, mert konvenci\u00f3 alapj\u00e1n mappeli az AztoMapper \u00e9s az \u00e1tnevez\u00e9s ut\u00e1n m\u00e1r nem is egyezik meg a DTO-ban \u00e9s az entit\u00e1son a tulajdons\u00e1g el fog t\u00f6rni a k\u00f3d.</p> </li> <li> <p>A fentihez hasonl\u00f3 m\u00f3don k\u00e9sz\u00edts\u00fck el a <code>BookProfile</code> oszt\u00e1lyt is.</p> </li> </ol> <pre><code>using AutoMapper;\nusing BookShop.Dal.Entities;\nusing BookShop.Transfer;\n\nnamespace BookShop.Bll.Mappings;\n\npublic class BookProfile : Profile\n{\n    public BookProfile()\n    {\n        CreateProjection&lt;Book, BookData&gt;()\n            .ForMember(dest =&gt; dest.Id, opt =&gt; opt.MapFrom(src =&gt; src.Id))\n            .ForMember(dest =&gt; dest.Title, opt =&gt; opt.MapFrom(src =&gt; src.Title))\n            .ForMember(dest =&gt; dest.Subtitle, opt =&gt; opt.MapFrom(src =&gt; src.Subtitle))\n            .ForMember(dest =&gt; dest.ShortDescription, opt =&gt; opt.MapFrom(src =&gt; src.ShortDescription))\n            .ForMember(dest =&gt; dest.Price, opt =&gt; opt.MapFrom(src =&gt; src.Price))\n            .ForMember(dest =&gt; dest.DiscountPrice, opt =&gt; opt.MapFrom(src =&gt; src.DiscountedPrice))\n            .ForMember(dest =&gt; dest.PublishYear, opt =&gt; opt.MapFrom(src =&gt; src.PublishYear))\n            .ForMember(dest =&gt; dest.PageNumber, opt =&gt; opt.MapFrom(src =&gt; src.PageNumber))\n            .ForMember(dest =&gt; dest.Author, opt =&gt; opt.MapFrom(src =&gt; src.Author))\n            .ForMember(dest =&gt; dest.CategoryId, opt =&gt; opt.MapFrom(src =&gt; src.CategoryId));\n    }\n}\n</code></pre> <ol> <li>A fenti k\u00f3d elk\u00e9sz\u00edt\u00e9s\u00e9ben a Code Completions a Visual Studi\u00f3ban sokat tud seg\u00edteni, ak\u00e1r a teljes k\u00f3dot helyesen fel tudja aj\u00e1nlani. Ez az opci\u00f3 akkor \u00e9rhet\u0151 el ha van GitHub Copilot el\u0151fizet\u00e9s.</li> </ol> <p></p> <ol> <li> <p>Ha megvannak a mapper profilok, akkor m\u00e1r csak annyi dolgunk van, hogy a service-ekben lecser\u00e9lj\u00fck a <code>Select</code>-et egy <code>ProjectTo</code>-ra. Mivel a <code>ProjectTo&lt;DTO&gt;()</code> v\u00e1r egy <code>IConfigurationProvider</code> param\u00e9tert is, a szolg\u00e1ltat\u00e1s konstruktor\u00e1nak \u00e1t kell adni egy <code>IMapper</code>-t, amit majd a DI kont\u00e9nerbe be kell regisztr\u00e1lni. Ez a regisztr\u00e1ci\u00f3t majd a Console Application-ben fogjuk megtenni.</p> </li> <li> <p>M\u00f3dos\u00edtjuk a <code>CategoryService</code>-t, hogy a <code>ProjectTo</code>-t haszn\u00e1lja.</p> </li> </ol> <pre><code>public class CategoryService(BookShopDbContext dbContext, IMapper mapper) : ICategoryService\n{\n    private readonly BookShopDbContext _dbContext = dbContext;\n\n    public async Task&lt;IEnumerable&lt;CategoryHeader&gt;&gt; GetCategoryTreeAsync()\n    {\n        var allCategories = await _dbContext.Categories\n            .OrderBy(c =&gt; c.Order)\n            .ProjectTo&lt;CategoryHeader&gt;(mapper.ConfigurationProvider)\n            .ToListAsync();\n\n        return allCategories;\n    }\n}\n</code></pre> <ol> <li>M\u00f3dos\u00edtjuk a <code>BookService</code>-t is, hogy a <code>ProjectTo</code>-t haszn\u00e1lja.</li> </ol> <pre><code>public class BookService(BookShopDbContext dbContext, IMapper mapper) : IBookService\n{\n    private readonly BookShopDbContext dbContext = dbContext;\n\n    public async Task&lt;List&lt;BookData&gt;&gt; GetBooksAsync()\n    {\n        var books = await dbContext.Books\n            .OrderBy(x =&gt; x.Title)\n            .ProjectTo&lt;BookData&gt;(mapper.ConfigurationProvider)\n            .ToListAsync();\n\n        return books;\n    }\n}\n</code></pre> <ol> <li>Ezt most nem tudjuk m\u00e9g kipr\u00f3b\u00e1lni, mert nincs futtathat\u00f3 projekt\u00fcnk. Ez\u00e9rt a k\u00f6vetkez\u0151 l\u00e9p\u00e9sben egy egyszer\u0171 Console App-ot adunk a solution-h\u00f6z, hogy el is tudjuk ind\u00edtani az alkalmaz\u00e1st.</li> </ol>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#console-app-letrehozasa-mint-ui-reteg","title":"Console App l\u00e9trehoz\u00e1sa mint UI r\u00e9teg","text":"<ol> <li>Adjunk a solution-hoz egy Console App-ot <code>BookShop.ConsoleApp</code> n\u00e9vvel.</li> <li>Adjunk referenci\u00e1t a <code>BookShop.Bll</code> projektre.</li> <li>Ahhoz, hogy be tudujuk regisztr\u00e1lni az AutoMappert \u00e9s az adatb\u00e1zis contextust a <code>Program.cs</code> f\u00e1jlt ki kell eg\u00e9sz\u00edteni, mert alap\u00e9rtelmez\u00e9s szerint nincs benne olyan k\u00f3dr\u00e9szlet ami appsettings.json-t fel tudn\u00e1 olvasni, illetve DI containere sincs.</li> <li>Adjuk hozz\u00e1 a <code>BookShop.ConsoleApp</code> projekthez a <code>Microsoft.Extensions.Hosting</code> NuGet package-et. Ezzel tudunk majd l\u00e9trehozni egy <code>HostApplicationBuilder</code>-t, amibe be tudjuk regisztr\u00e1lni a szolg\u00e1ltat\u00e1sainkat \u00e9s kezelni tudja az <code>appsetting.json</code> f\u00e1jlt.</li> <li>Adjunk a projekthez egy \u00faj JSON t\u00edpus\u00fa f\u00e1jlt <code>appsettings.json</code> n\u00e9vvel, majd \u00e1ll\u00edtsuk be a f\u00e1jl tulajdons\u00e1gai k\u00f6z\u00f6tt (appsetting.json jobb klikk \u2192 Properties), hogy ha m\u00f3dosul m\u00e1solja \u00e1t az output k\u00f6nyvt\u00e1rba</li> <li>Copy To Output Directory: Copy if newer.</li> </ol> <p> 6. Adjuk hozz\u00e1 az al\u00e1bbi tartalmat az <code>appsettings.json</code> f\u00e1jlhoz. A LicenseKey-hez azt az AutoMapper-t\u0151l kapott licensz kulcsot kell bem\u00e1solni.</p> <pre><code>{\n  \"ConnectionStrings\": {\n    \"DefaultConnection\": \"Data Source=.;Initial Catalog=BookShopDb;Integrated Security=True;   TrustServerCertificate=True\"\n  },\n\n  \"AutoMapper\": {\n    \"LicenseKey\": \"Ide j\u00f6n a licenszkulcs\"\n  }\n}\n</code></pre> <ol> <li>K\u00e9sz\u00edts\u00fck el a <code>Program.cs</code> k\u00f3dj\u00e1t is.</li> <li>Hozzuk l\u00e9tre a HostApplicationBuilder p\u00e9ld\u00e1nyunkat a <code>Host.CreateApplicationBuilder</code> seg\u00edts\u00e9g\u00e9vel. Ez fel fogja olvasni az appsetting.json f\u00e1junkban l\u00e9v\u0151 adatokat.</li> <li>Regisztr\u00e1ljuk be az al\u00e1bbi szolg\u00e1ltat\u00e1sokat<ul> <li>DbContext-et.</li> <li>AutoMapper profileokat \u00e9s a licensz kulcsot is adjuk meg.</li> <li>Bll szolg\u00e1ltat\u00e1sokat (BookService, CategoryService)</li> </ul> </li> <li>Majd ind\u00edtsuk is el az alkalmaz\u00e1st, hogy addig fusson am\u00edg nem nyomjuk le a <code>Ctrl + C</code>-t.</li> </ol> <pre><code>using BookShop.Bll.IServices;\nusing BookShop.Bll.Mappings;\nusing BookShop.Bll.Services;\nusing Microsoft.EntityFrameworkCore;\nusing Microsoft.Extensions.Configuration;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\n\nConsole.WriteLine(\"Application starting...\");\n\nvar builder = Host.CreateApplicationBuilder(args);\n\n// DB Context regisztr\u00e1l\u00e1sa a DI containerbe.\nbuilder.Services.AddDbContext&lt;BookShop.Dal.BookShopDbContext&gt;(options =&gt;\n{\n    options.UseSqlServer(builder.Configuration.GetConnectionString(\"DefaultConnection\"));\n});\n\n// AutoMapper regisztr\u00e1l\u00e1sa a DI containerbe.\nbuilder.Services.AddAutoMapper(\n        cfg =&gt;\n        {\n            cfg.LicenseKey = builder.Configuration.GetRequiredSection(\"AutoMapper\").GetValue&lt;string&gt;   (\"LicenseKey\");\n        }, typeof(BookProfile));\n\n// Szolg\u00e1ltat\u00e1sok regisztr\u00e1l\u00e1sa a DI containerbe.\nbuilder.Services.AddScoped&lt;IBookService, BookService&gt;();\nbuilder.Services.AddScoped&lt;ICategoryService, CategoryService&gt;();\n\n// Host ford\u00edt\u00e1sa. (Ez ut\u00e1n lehet lek\u00e9rdezni a beregiszt\u00e1lt szolg\u00e1ltat\u00e1sokat)\nvar app = builder.Build();\n\napp.Services.GetRequiredService&lt;BookShop.Dal.BookShopDbContext&gt;().Database.Migrate();\n\n// TODO: Ide tudjuk majd \u00edrni a tesztelend\u0151 k\u00f3dot.\n\nawait app.RunAsync();\n</code></pre> <ol> <li>Figyelj\u00fck meg a fenti k\u00f3dban, hogy a v\u00e9g\u00e9n megh\u00edvjuk az adatb\u00e1zis migr\u00e1ci\u00f3t. Ha ez a sor benne marad a k\u00f3dban, akkor nem kell sohasem futtatni az <code>Update-Database</code> parancsot, mert ez a k\u00f3dsor le fogja futtatni azokat a migr\u00e1ci\u00f3kat, amik m\u00e9g nem futottak. \u00c9rdemes azonban megjegyezni, hogy Production k\u00f6rnyezetben nem szeretj\u00fck ezt az automatikus megold\u00e1st, mert \u00e1ltal\u00e1ban a migr\u00e1ci\u00f3k lefuttat\u00e1s\u00e1hoz magasabb jogosults\u00e1g sz\u00fcks\u00e9ges mint az alkalmaz\u00e1s norm\u00e1l futtat\u00e1s\u00e1hoz.</li> <li>Ha elind\u00edtjuk az alkalmaz\u00e1st azt fogjuk l\u00e1tni, hogy val\u00f3ban ellen\u0151rzni, hogy minden EF migr\u00e1ci\u00f3 lefutott-e, ezt a konzolra napl\u00f3zott SQL logokb\u00f3l l\u00e1thatjuk.</li> <li> <p>Ahhoz, hogy a mi k\u00f3dunkat is le tudjuk tesztelni egyszer\u0171en, hozzunk l\u00e9tre egy <code>TestMyCode</code> oszt\u00e1lyt, melynek konstruktora megkapja az <code>IBookService</code> \u00e9s <code>ICategoryService</code> interf\u00e9szeket \u00e9s impelment\u00e1l k\u00e9t met\u00f3udst <code>ListBooksAsync</code> \u00e9s <code>ListCategoriesAsync</code> melyek megh\u00edvj\u00e1k az egyes szolg\u00e1ltat\u00e1sok megfelel\u0151 met\u00f3dus\u00e1t \u00e9s a konzolra ki\u00edrj\u00e1k a visszakapott list\u00e1k elemet.</p> <pre><code>using BookShop.Bll.IServices;\n\nnamespace BookShop.ConsoleApp;\n\npublic class TestMyCode(IBookService bookService, ICategoryService categoryService)\n{\n    public async Task ListBooksAsync()\n    {\n        var books = await bookService.GetBooksAsync();\n\n        foreach (var book in books)\n        {\n            Console.WriteLine($\"{book.Id}: {book.Title} - {book.Author} ({book.PublishYear})\");\n        }\n    }\n\n    public async Task ListCategoriesAsync()\n    {\n        var categories = await categoryService.GetCategoryTreeAsync();\n\n        foreach (var category in categories)\n        {\n            Console.WriteLine($\"{new string(' ', (category.Level - 1) * 2)}- {category.Name}  (Level:   {category.Level})\");\n        }\n    }\n}\n</code></pre> </li> <li> <p>M\u00e1r csak annyi dolgunk van, hogy a <code>Program.cs</code>-b\u0151l megh\u00edvjuk a k\u00e9t met\u00f3dust, viszont mivel manu\u00e1lisan nem tudjuk ezt az oszt\u00e1ly p\u00e9ld\u00e1nyos\u00edtani, \u00edgy ezt is hozz\u00e1 kell adni a Services-hez \u00e9s onnan kell a p\u00e9ld\u00e1nyt elk\u00e9rni.</p> <pre><code>// Szolg\u00e1ltat\u00e1sok regisztr\u00e1l\u00e1sa a DI containerbe.\nbuilder.Services.AddScoped&lt;IBookService, BookService&gt;();\nbuilder.Services.AddScoped&lt;ICategoryService, CategoryService&gt;();\nbuilder.Services.AddScoped&lt;TestMyCode&gt;();\n\n// Host ford\u00edt\u00e1sa\nvar app = builder.Build();\n\napp.Services.GetRequiredService&lt;BookShop.Dal.BookShopDbContext&gt;().Database.Migrate();\n\nvar testMyCodeService = app.Services.GetRequiredService&lt;TestMyCode&gt;();\n\nawait testMyCodeService.ListBooksAsync();\nawait testMyCodeService.ListCategoriesAsync();\n\nawait app.RunAsync();\n</code></pre> </li> <li> <p>Ha \u00edgy elind\u00edtjuk az alkalmaz\u00e1st, akkor l\u00e1that\u00f3 lesz, hogy t\u00e9nyleg megkapjuk az adatokat az adatb\u00e1zisb\u00f3l, s\u0151t a futtatot SQL k\u00f3dot is l\u00e1tjuk.</p> </li> </ol>"},{"location":"seminar/02%20-%20Projekt%20struktura/02%20-%20Projekt%20struktura%20es%20adatmodell/#teljes-dal-reteg","title":"Teljes DAL r\u00e9teg","text":"<p>Ezek alapj\u00e1n m\u00e1r el tudn\u00e1nk k\u00e9sz\u00edteni a teljes adatel\u00e9r\u00e9si r\u00e9teget, de miven az sok id\u0151t vesz ig\u00e9nybe ez\u00e9rt az a k\u00f6vetkez\u0151 labor kiindul\u00f3 anyag\u00e1ba m\u00e1r benne lesz.</p>"}]}